 POST /api/auth/login 400 in 189ms :: {"message":"Login failed"}
Executing (default): SELECT "id", "registrationNumber", "email", "password", "role", "category", "flagCount", "isSuspended", "isVerified", "otpCode", "otpExpires", "createdAt", "updatedAt" FROM "Users" AS "User" WHERE "User"."registrationNumber" = 'STU1001';
Registration error: Error
    at Query.run (/home/runner/workspace/node_modules/sequelize/src/dialects/postgres/query.js:76:25)
    at <anonymous> (/home/runner/workspace/node_modules/sequelize/src/sequelize.js:650:28)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async PostgresQueryInterface.select (/home/runner/workspace/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)
    at async Function.findAll (/home/runner/workspace/node_modules/sequelize/src/model.js:1824:21)
    at async Function.findOne (/home/runner/workspace/node_modules/sequelize/src/model.js:1998:12)
    at async DatabaseStorage.getUserByRegistrationNumber (/home/runner/workspace/server/storage.ts:32:12)
    at async <anonymous> (/home/runner/workspace/server/routes.ts:55:28) {
  name: 'SequelizeDatabaseError',
  parent: error: column "otpCode" does not exist
      at Parser.parseErrorMessage (/home/runner/workspace/node_modules/pg-protocol/src/parser.ts:368:69)
      at Parser.handlePacket (/home/runner/workspace/node_modules/pg-protocol/src/parser.ts:187:21)
      at Parser.parse (/home/runner/workspace/node_modules/pg-protocol/src/parser.ts:102:30)
      at TLSSocket.<anonymous> (/home/runner/workspace/node_modules/pg-protocol/src/index.ts:7:48)
      at TLSSocket.emit (node:events:524:28)
      at addChunk (node:internal/streams/readable:561:12)
      at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
      at Readable.push (node:internal/streams/readable:392:5)
      at TLSWrap.onStreamRead (node:internal/stream_base_commons:191:23) {
    length: 108,
    severity: 'ERROR',
    code: '42703',
    detail: undefined,
    hint: undefined,
    position: '119',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '3722',
    routine: 'errorMissingColumn',
    sql: `SELECT "id", "registrationNumber", "email", "password", "role", "category", "flagCount", "isSuspended", "isVerified", "otpCode", "otpExpires", "createdAt", "updatedAt" FROM "Users" AS "User" WHERE "User"."registrationNumber" = 'STU1001';`,
    parameters: undefined
  },
  original: error: column "otpCode" does not exist
      at Parser.parseErrorMessage (/home/runner/workspace/node_modules/pg-protocol/src/parser.ts:368:69)
      at Parser.handlePacket (/home/runner/workspace/node_modules/pg-protocol/src/parser.ts:187:21)
      at Parser.parse (/home/runner/workspace/node_modules/pg-protocol/src/parser.ts:102:30)
      at TLSSocket.<anonymous> (/home/runner/workspace/node_modules/pg-protocol/src/index.ts:7:48)
      at TLSSocket.emit (node:events:524:28)
      at addChunk (node:internal/streams/readable:561:12)
      at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
      at Readable.push (node:internal/streams/readable:392:5)
      at TLSWrap.onStreamRead (node:internal/stream_base_commons:191:23) {
    length: 108,
    severity: 'ERROR',
    code: '42703',
    detail: undefined,
    hint: undefined,
    position: '119',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '3722',
    routine: 'errorMissingColumn',
    sql: `SELECT "id", "registrationNumber", "email", "password", "role", "category", "flagCount", "isSuspended", "isVerified", "otpCode", "otpExpires", "createdAt", "updatedAt" FROM "Users" AS "User" WHERE "User"."registrationNumber" = 'STU1001';`,
    parameters: undefined
  },
  sql: `SELECT "id", "registrationNumber", "email", "password", "role", "category", "flagCount", "isSuspended", "isVerified", "otpCode", "otpExpires", "createdAt", "updatedAt" FROM "Users" AS "User" WHERE "User"."registrationNumber" = 'STU1001';`,
  parameters: {}
}
12:01:53 PM [express] POST /api/auth/register 400 in 188ms :: {"message":"Registration failed"}
Executing (default): SELECT "id", "registrationNumber", "email", "password", "role", "category", "flagCount", "isSuspended", "isVerified", "otpCode", "otpExpires", "createdAt", "updatedAt" FROM "Users" AS "User" WHERE "User"."registrationNumber" = 'ADMIN_ACADEMICS';
Login error: Error
    at Query.run (/home/runner/workspace/node_modules/sequelize/src/dialects/postgres/query.js:76:25)
    at <anonymous> (/home/runner/workspace/node_modules/sequelize/src/sequelize.js:650:28)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async PostgresQueryInterface.select (/home/runner/workspace/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)
    at async Function.findAll (/home/runner/workspace/node_modules/sequelize/src/model.js:1824:21)
    at async Function.findOne (/home/runner/workspace/node_modules/sequelize/src/model.js:1998:12)
    at async DatabaseStorage.getUserByRegistrationNumber (/home/runner/workspace/server/storage.ts:32:12)
    at async <anonymous> (/home/runner/workspace/server/routes.ts:136:20) {
  name: 'SequelizeDatabaseError',
  parent: error: column "otpCode" does not exist
      at Parser.parseErrorMessage (/home/runner/workspace/node_modules/pg-protocol/src/parser.ts:368:69)
      at Parser.handlePacket (/home/runner/workspace/node_modules/pg-protocol/src/parser.ts:187:21)
      at Parser.parse (/home/runner/workspace/node_modules/pg-protocol/src/parser.ts:102:30)
      at TLSSocket.<anonymous> (/home/runner/workspace/node_modules/pg-protocol/src/index.ts:7:48)
      at TLSSocket.emit (node:events:524:28)
      at addChunk (node:internal/streams/readable:561:12)
      at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
      at Readable.push (node:internal/streams/readable:392:5)
      at TLSWrap.onStreamRead (node:internal/stream_base_commons:191:23) {
    length: 108,
    severity: 'ERROR',
    code: '42703',
    detail: undefined,
    hint: undefined,
    position: '119',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '3722',
    routine: 'errorMissingColumn',
    sql: `SELECT "id", "registrationNumber", "email", "password", "role", "category", "flagCount", "isSuspended", "isVerified", "otpCode", "otpExpires", "createdAt", "updatedAt" FROM "Users" AS "User" WHERE "User"."registrationNumber" = 'ADMIN_ACADEMICS';`,
    parameters: undefined
  },
  original: error: column "otpCode" does not exist
      at Parser.parseErrorMessage (/home/runner/workspace/node_modules/pg-protocol/src/parser.ts:368:69)
      at Parser.handlePacket (/home/runner/workspace/node_modules/pg-protocol/src/parser.ts:187:21)
      at Parser.parse (/home/runner/workspace/node_modules/pg-protocol/src/parser.ts:102:30)
      at TLSSocket.<anonymous> (/home/runner/workspace/node_modules/pg-protocol/src/index.ts:7:48)
      at TLSSocket.emit (node:events:524:28)
      at addChunk (node:internal/streams/readable:561:12)
      at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
      at Readable.push (node:internal/streams/readable:392:5)
      at TLSWrap.onStreamRead (node:internal/stream_base_commons:191:23) {
    length: 108,
    severity: 'ERROR',
    code: '42703',
    detail: undefined,
    hint: undefined,
    position: '119',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '3722',
    routine: 'errorMissingColumn',
    sql: `SELECT "id", "registrationNumber", "email", "password", "role", "category", "flagCount", "isSuspended", "isVerified", "otpCode", "otpExpires", "createdAt", "updatedAt" FROM "Users" AS "User" WHERE "User"."registrationNumber" = 'ADMIN_ACADEMICS';`,
    parameters: undefined
  },
  sql: `SELECT "id", "registrationNumber", "email", "password", "role", "category", "flagCount", "isSuspended", "isVerified", "otpCode", "otpExpires", "createdAt", "updatedAt" FROM "Users" AS "User" WHERE "User"."registrationNumber" = 'ADMIN_ACADEMICS';`,
  parameters: {}
}
12:02:37 PM [express] POST /api/auth/login 400 in 201ms :: {"message":"Login failed"}